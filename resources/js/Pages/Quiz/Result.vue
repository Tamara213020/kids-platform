<script setup>
import AppLayout from "@/Layouts/AppLayout.vue";
import { Link } from "@inertiajs/vue3";

defineProps({
    courseQuiz: {
        type: Object,
        default: null,
    },
    result: {
        type: Number,
        default: 0,
    },
});
</script>

<template>
    <AppLayout :title="courseQuiz.title">
        <template #header>
            <h2 class="font-semibold text-xl text-gray-800 dark:text-gray-200 leading-tight">
                {{ courseQuiz.title }}
            </h2>
        </template>

        <div class="my-10 max-w-4xl mx-auto p-6 bg-white dark:bg-gray-800 shadow-lg rounded-lg text-center">
            <p class="text-gray-700 dark:text-gray-300 text-lg">{{ courseQuiz.description }}</p>

            <div class="mt-8">
                <div class="inline-block px-6 py-4 rounded-lg shadow-lg"
                     :class="{
                        'bg-green-500 text-white': result >= 80,
                        'bg-yellow-500 text-white': result >= 50 && result < 80,
                        'bg-red-500 text-white': result < 50
                    }">
                    <h3 class="text-2xl font-bold">–¢–≤–æ—ò–æ—Ç —Ä–µ–∑—É–ª—Ç–∞—Ç</h3>
                    <p class="text-4xl font-extrabold mt-2">{{ result }}%</p>
                    <p class="mt-2 text-lg">
                        <span v-if="result >= 80">üéâ –û–¥–ª–∏—á–Ω–æ! –ü—Ä–æ–¥–æ–ª–∂–∏ —Å–æ –∏—Å—Ç–æ—Ç–æ —Ç–µ–º–ø–æ!</span>
                        <span v-else-if="result >= 50">üòä –î–æ–±—Ä–∞ —Ä–∞–±–æ—Ç–∞! –°–æ –º–∞–ª–∫—É –ø–æ–≤–µ—ú–µ –≤–µ–∂–±–∞—ö–µ —ú–µ –±–∏–¥–µ—à —É—à—Ç–µ –ø–æ–¥–æ–±–∞—Ä!</span>
                        <span v-else>üò¢ –ù–µ —Å–µ –≥—Ä–∏–∂–∏! –ü—Ä–æ–¥–æ–ª–∂–∏ –¥–∞ –≤–µ–∂–±–∞—à –∏ —ú–µ —Å–µ –ø–æ–¥–æ–±—Ä–∏—à!</span>
                    </p>
                </div>
            </div>

            <div class="mt-8">
                <Link :href="route('courses.show', courseQuiz.course_id)"
                      class="px-6 py-3 bg-indigo-600 text-white rounded-lg shadow-md hover:bg-indigo-700 text-lg">
                    ‚Üê –ù–∞–∑–∞–¥ –∫–æ–Ω –∫—É—Ä—Å–æ—Ç
                </Link>
            </div>
        </div>
    </AppLayout>
</template>
